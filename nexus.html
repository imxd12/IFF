<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Nexus</title>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="icon-512.svg">
  <link rel="shortcut icon" href="icon-512.png" type="image/png">

  <!-- Styles -->
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="nexus.css">
</head>
<body>
  <div class="app">

    <!-- Header -->
    <div class="card header">
      <div class="brand">
        <div class="logo">ðŸ“Š</div>
        <div>
          <div class="app-title">
  <a href="index.html" style="color: inherit; text-decoration: none;">Nexus</a>
</div>
          <div class="small-muted">Blinkit Income Tracker</div>
        </div>
      </div>
      <div style="text-align:right">
        <div id="timeNow" class="small-muted"></div>
        <div class="small-muted">Earnings & Hours</div>
      </div>
    </div>

    <!-- Entry Modal -->
    <div id="nxModal" class="modal hidden">
      <div class="modal-content card">
        <h3 id="nxModalTitle">Add Entry</h3>
        <input id="nxDate" type="date" class="input" />
        <input id="nxItems" class="input" placeholder="Items picked" />
        <input id="nxHours" class="input" placeholder="Active hours" />
        <input id="nxBonus" class="input" placeholder="Bonus" />
        <input id="nxPenalty" class="input" placeholder="Penalty" />
        <input id="nxPayout" class="input" placeholder="Payout" />
        <select id="nxCategory" class="input">
          <option value="Normal">Normal</option>
          <option value="Festival Surge">Festival Surge</option>
          <option value="Cancelled Orders">Cancelled Orders</option>
          <option value="Other">Other</option>
        </select>
        <input id="nxNotes" class="input" placeholder="Notes" />
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
          <button class="btn btn-danger" id="nxDelete">Delete</button>
          <button class="btn" id="nxClose">Cancel</button>
          <button class="btn btn-primary" id="nxSave">Save</button>
        </div>
      </div>
    </div>

      <!-- Summary Widgets -->
       <div class="card">
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px">
        <div class="card widget">
          <div class="small-muted">This Month Total</div>
          <div id="nxMonth" style="font-weight:700">â‚¹0</div>
        </div>
        <div class="card widget">
          <div class="small-muted">YTD Total</div>
          <div id="nxYTD" style="font-weight:700">â‚¹0</div>
        </div>
        <div class="card widget">
          <div class="small-muted">Efficiency (â‚¹/hr)</div>
          <div id="nxEff" style="font-weight:700">0</div>
        </div>
        <div class="card widget">
          <div class="small-muted">Best Day</div>
          <div id="nxBest" style="font-weight:700">-</div>
        </div>
        <div class="card widget">
          <div class="small-muted">Worst Day</div>
          <div id="nxWorst" style="font-weight:700">-</div>
        </div>
      </div>
      </div>

          <!-- Controls + Summary -->
    <div class="card">
      <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:8px">
        <button class="btn btn-primary" id="btnAddN">Add Entry</button>
        <button class="btn" id="btnExportN">Export CSV</button>
        <button class="btn" id="btnBackupN">Backup JSON</button>
        <input type="file" id="importFile" hidden />
        <button class="btn" id="btnImportN">Import JSON</button>
        <button class="btn" id="btnAllEntries">View All</button>
      </div>

      <!-- Date Range Filter -->
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px">
        <input type="month" id="monthPicker" class="input" />
        <input type="date" id="fromDate" class="input" />
        <input type="date" id="toDate" class="input" />
        <button class="btn" id="btnFilterRange">Filter</button>
      </div>

      <!-- Chart -->
      <div style="margin-top:8px">
        <canvas id="nxChart" width="360" height="140"></canvas>
      </div>
    </div>

    

    <!-- Entries -->
    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:700">Entries</div>
        <input id="searchNexus" class="input" placeholder="Search date or notes" />
      </div>
      <ul id="listNexus" class="list"></ul>
    </div>
  </div>

  <!-- Scripts -->
  <script src="global.js"></script>
  <script src="nexus.js"></script>
</body>
</html>
