<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Nexus - Professional work and earnings tracker for freelancers and gig workers">
  <meta name="author" content="Imad Khan (@imxd-2025)">
  <meta name="theme-color" content="#10b981">
  
  <title>Nexus - Work & Earnings Tracker | MoneyFlow</title>
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="nexus.css">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Chart.js for Analytics -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>

  <!-- ========================================
       HEADER - Navigation & Clock
  ======================================== -->
  <header class="header">
    <!-- Left: Back Button -->
    <div class="header-left">
      <a href="index.html" class="back-btn" title="Back to Dashboard">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
      </a>
      
      <div class="header-title-group">
        <h1 class="page-name">Nexus</h1>
        <p class="page-tagline">Track work & earnings</p>
      </div>
    </div>
    
    <!-- Center: Live Clock -->
    <div class="header-center">
      <div class="time-display" id="timeNow">Loading...</div>
    </div>
    
    <!-- Right: Theme Toggle -->
    <div class="header-right">
      <div class="theme-toggle">
        <div class="theme-toggle-slider">â˜€ï¸</div>
      </div>
    </div>
  </header>

  <!-- ========================================
       MAIN CONTAINER
  ======================================== -->
  <div class="container">
    
    <!-- Summary Cards -->
    <div class="summary-grid scroll-fade-in">
      <div class="summary-card payout-card">
        <div class="summary-icon">ğŸ’°</div>
        <div class="summary-info">
          <div class="summary-label">Today's Payout</div>
          <div class="summary-value" id="todayPayout">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card month-card">
        <div class="summary-icon">ğŸ“…</div>
        <div class="summary-info">
          <div class="summary-label">This Month</div>
          <div class="summary-value" id="monthPayout">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card total-card">
        <div class="summary-icon">ğŸ†</div>
        <div class="summary-info">
          <div class="summary-label">All-Time Total</div>
          <div class="summary-value" id="totalPayout">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card avg-card">
        <div class="summary-icon">ğŸ“Š</div>
        <div class="summary-info">
          <div class="summary-label">Daily Average</div>
          <div class="summary-value" id="avgPayout">â‚¹0</div>
        </div>
      </div>
    </div>

    <!-- ========================================
         ANALYTICS SECTION
    ======================================== -->
    <section class="analytics-section scroll-blur">
      <h3 class="section-title">ğŸ“ˆ Analytics & Insights</h3>
      
      <!-- Charts Grid -->
      <div class="chart-grid">
        <!-- Earnings Trend Chart -->
        <div class="chart-card">
          <h4 class="chart-title">Daily Earnings Trend (Last 14 Days)</h4>
          <canvas id="trendChart"></canvas>
        </div>
        
        <!-- Category Distribution Chart -->
        <div class="chart-card">
          <h4 class="chart-title">Category-wise Earnings</h4>
          <canvas id="categoryChart"></canvas>
        </div>
        
        <!-- Items vs Hours Chart -->
        <div class="chart-card">
          <h4 class="chart-title">Items vs Hours Comparison</h4>
          <canvas id="itemsHoursChart"></canvas>
        </div>
        
        <!-- Bonus vs Penalty Chart -->
        <div class="chart-card">
          <h4 class="chart-title">Bonus vs Penalty Analysis</h4>
          <canvas id="bonusPenaltyChart"></canvas>
        </div>
      </div>
      
      <!-- Performance Metrics -->
      <div class="metrics-grid">
        <div class="metric-card">
          <div class="metric-icon">ğŸ”¢</div>
          <div class="metric-label">Total Items</div>
          <div class="metric-value" id="totalItems">0</div>
        </div>
        <div class="metric-card">
          <div class="metric-icon">â°</div>
          <div class="metric-label">Total Hours</div>
          <div class="metric-value" id="totalHours">0h</div>
        </div>
        <div class="metric-card">
          <div class="metric-icon">ğŸ</div>
          <div class="metric-label">Total Bonus</div>
          <div class="metric-value" id="totalBonus">â‚¹0</div>
        </div>
        <div class="metric-card">
          <div class="metric-icon">âš ï¸</div>
          <div class="metric-label">Total Penalty</div>
          <div class="metric-value" id="totalPenalty">â‚¹0</div>
        </div>
      </div>
    </section>

    <!-- ========================================
         FILTERS & ACTIONS
    ======================================== -->
    <div class="filter-section scroll-fade-in">
      <div class="filter-group">
        <input type="date" class="form-input" id="filterDate" placeholder="Filter by date">
        <input type="text" class="form-input" id="searchInput" placeholder="ğŸ” Search by date, category or notes...">
      </div>
      <div class="action-buttons">
        <button class="btn btn-primary" onclick="openAddModal()">
          <span>â• Add New Entry</span>
        </button>
        <button class="btn btn-secondary" onclick="toggleShowAll()">
          <span id="toggleText">Show All</span>
        </button>
        <button class="btn btn-secondary" onclick="exportToCSV()">
          <span>ğŸ“Š Export CSV</span>
        </button>
        <button class="btn btn-secondary" onclick="exportToJSON()">
          <span>ğŸ“¤ Export JSON</span>
        </button>
        <button class="btn btn-secondary" onclick="importFromJSON()">
          <span>ğŸ“¥ Import</span>
        </button>
      </div>
    </div>

    <!-- ========================================
         ENTRY LIST
    ======================================== -->
    <div class="list-section scroll-blur">
      <h3 class="section-title">Recent Entries</h3>
      <ul id="listNexus" class="nexus-list"></ul>
      <div class="empty-state" id="emptyState" style="display: none;">
        <svg width="100" height="100" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="40" fill="var(--glass)" stroke="var(--glass-border)" stroke-width="2"/>
          <text x="50" y="65" font-size="40" text-anchor="middle">ğŸ’¼</text>
        </svg>
        <p>No entries yet. Start tracking your work!</p>
      </div>
    </div>

  </div>

  <!-- ========================================
       ADD/EDIT MODAL
  ======================================== -->
  <div class="modal" id="nxModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Add Nexus Entry</h2>
        <button class="modal-close" onclick="closeModal('#nxModal')">&times;</button>
      </div>
      <form id="nxForm">
        <input type="hidden" id="editId">
        
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date</label>
            <input type="date" class="form-input" id="nxDate" required>
          </div>
          <div class="form-group">
            <label class="form-label">Category</label>
            <select class="form-select" id="nxCategory" required>
              <option value="ğŸ’¼ Freelance">ğŸ’¼ Freelance</option>
              <option value="ğŸ› ï¸ Project Work">ğŸ› ï¸ Project Work</option>
              <option value="ğŸ“¦ Delivery">ğŸ“¦ Delivery</option>
              <option value="ğŸ¨ Design Work">ğŸ¨ Design Work</option>
              <option value="ğŸ’» Development">ğŸ’» Development</option>
              <option value="ğŸ“ Content Writing">ğŸ“ Content Writing</option>
              <option value="ğŸ“ Tutoring">ğŸ“ Tutoring</option>
              <option value="ğŸ“¸ Photography">ğŸ“¸ Photography</option>
              <option value="ğŸ¯ Consulting">ğŸ¯ Consulting</option>
              <option value="ğŸ”§ Maintenance">ğŸ”§ Maintenance</option>
              <option value="ğŸª Event Work">ğŸª Event Work</option>
              <option value="ğŸ¯ Other">ğŸ¯ Other</option>
            </select>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Items Completed</label>
            <input type="number" class="form-input" id="nxItems" placeholder="0" min="0" step="1" value="0">
          </div>
          <div class="form-group">
            <label class="form-label">Hours Worked</label>
            <input type="number" class="form-input" id="nxHours" placeholder="0.0" min="0" step="0.5" value="0">
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Bonus (â‚¹)</label>
            <input type="number" class="form-input" id="nxBonus" placeholder="0.00" min="0" step="0.01" value="0">
          </div>
          <div class="form-group">
            <label class="form-label">Penalty (â‚¹)</label>
            <input type="number" class="form-input" id="nxPenalty" placeholder="0.00" min="0" step="0.01" value="0">
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label">Total Payout (â‚¹)</label>
          <input type="number" class="form-input" id="nxPayout" placeholder="0.00" step="0.01" required>
          <small class="form-hint">Enter final payout amount</small>
        </div>
        
        <div class="form-group">
          <label class="form-label">Notes (Optional)</label>
          <textarea class="form-textarea" id="nxNotes" placeholder="Add any notes about this work..."></textarea>
        </div>
        
        <div class="modal-actions">
          <button type="submit" class="btn btn-primary">ğŸ’¾ Save Entry</button>
          <button type="button" class="btn btn-danger" id="deleteBtn" style="display: none;" onclick="deleteEntry()">ğŸ—‘ï¸ Delete</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ========================================
       FLOATING ACTION BUTTON (FAB)
  ======================================== -->
  <button class="fab" onclick="openAddModal()" title="Quick Add Entry">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
    </svg>
  </button>

  <!-- ========================================
       ENHANCED FOOTER
  ======================================== -->
  <footer class="footer">
    <div class="footer-content">
      <!-- About Nexus -->
      <div class="footer-section">
        <h3>About Nexus</h3>
        <p>Professional work tracking system designed for freelancers, gig workers, and contractors. Track items, hours, bonuses, penalties with powerful analytics.</p>
        <div class="footer-stats">
          <div class="stat-item">
            <strong id="footerEntries">0</strong>
            <span>Entries</span>
          </div>
          <div class="stat-item">
            <strong id="footerCategories">12</strong>
            <span>Categories</span>
          </div>
        </div>
      </div>
      
      <!-- Features -->
      <div class="footer-section">
        <h3>Features</h3>
        <ul>
          <li>âœ… Items & Hours tracking</li>
          <li>ğŸ’° Bonus & Penalty management</li>
          <li>ğŸ“Š Advanced analytics & charts</li>
          <li>ğŸ“ˆ Daily earnings trend (14 days)</li>
          <li>ğŸ¯ Category-wise breakdown</li>
          <li>ğŸ“¥ CSV/JSON export & import</li>
          <li>ğŸŒ“ Dark mode support</li>
          <li>ğŸ’¾ Auto-save to localStorage</li>
        </ul>
      </div>
      
      <!-- Quick Actions -->
      <div class="footer-section">
        <h3>Quick Actions</h3>
        <div class="footer-actions">
          <button class="btn btn-secondary btn-sm" onclick="openAddModal()">â• Quick Add</button>
          <button class="btn btn-secondary btn-sm" onclick="exportToCSV()">ğŸ“Š Export CSV</button>
          <button class="btn btn-secondary btn-sm" onclick="exportToJSON()">ğŸ“¤ Export JSON</button>
          <button class="btn btn-secondary btn-sm" onclick="clearAllData()">ğŸ—‘ï¸ Clear All</button>
        </div>
      </div>
      
      <!-- Navigation -->
      <div class="footer-section">
        <h3>Navigate</h3>
        <ul>
          <li><a href="index.html">ğŸ  Dashboard</a></li>
          <li><a href="spendly.html">ğŸ’° Spendly</a></li>
          <li><a href="nexus.html">ğŸ’¼ Nexus</a></li>
          <li><a href="pocketcal.html">ğŸ“… PocketCal</a></li>
        </ul>
        
        <div class="footer-social">
          <h4>Developer</h4>
          <p><strong>Imad Khan</strong></p>
          <p class="footer-handle"><a href="https://www.instagram.com/_imxd12" target="_blank" rel="noopener noreferrer"><p class="profile-handle">@imxd12</p></a></p>
          <div class="social-links">
            <a href="mailto:imadak999@gmail.com" title="Email">ğŸ“§</a>
            <a href="https://instagram.com/_imxd12" target="_blank" title="Instagram">ğŸ“·</a>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Footer Bottom -->
    <div class="footer-bottom">
      <p>&copy; 2025 MoneyFlow by <strong>Imad Khan <a href="https://www.instagram.com/_imxd12" target="_blank" rel="noopener noreferrer"><p class="profile-handle">@imxd12</p></a></strong>. All rights reserved.</p>
      <p class="footer-version">Nexus v1.0.0 | Last Updated: October 2025</p>
      </div>
  </footer>

  <!-- Scripts -->
  <script src="global.js"></script>
  <script src="nexus.js"></script>
</body>
</html>
