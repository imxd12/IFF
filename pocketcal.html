<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="PocketCal - Visual calendar-based pocket money tracker with powerful analytics">
  <meta name="author" content="Imad Khan (@imxd12)">
  <meta name="theme-color" content="#10b981">
  
  <title>PocketCal - Calendar Money Tracker | MoneyFlow</title>
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="pocketcal.css">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Chart.js for Analytics -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
  <!-- jsPDF for PDF Export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
</head>
<body>

  <!-- ========================================
       HEADER - Navigation & Clock
  ======================================== -->
  <header class="header">
    <!-- Left: Back Button -->
    <div class="header-left">
      <a href="index.html" class="back-btn" title="Back to Dashboard">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
      </a>
      
      <div class="header-title-group">
        <h1 class="page-name">PocketCal</h1>
        <p class="page-tagline">Track pocket money</p>
      </div>
    </div>
    
    <!-- Center: Live Clock -->
    <div class="header-center">
      <div class="time-display" id="timeNow">Loading...</div>
    </div>
    
    <!-- Right: Theme Toggle -->
    <div class="header-right">
      <div class="theme-toggle">
        <div class="theme-toggle-slider">â˜€ï¸</div>
      </div>
    </div>
  </header>

  <!-- ========================================
       MAIN CONTAINER
  ======================================== -->
  <div class="container">
    
    <!-- Summary Cards -->
    <div class="summary-grid scroll-fade-in">
      <div class="summary-card month-card">
        <div class="summary-icon">ğŸ“…</div>
        <div class="summary-info">
          <div class="summary-label">This Month</div>
          <div class="summary-value" id="pcMonth">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card total-card">
        <div class="summary-icon">ğŸ’</div>
        <div class="summary-info">
          <div class="summary-label">All-Time Total</div>
          <div class="summary-value" id="pcAll">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card high-card">
        <div class="summary-icon">ğŸ†</div>
        <div class="summary-info">
          <div class="summary-label">Highest Day</div>
          <div class="summary-value" id="pcHigh">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card avg-card">
        <div class="summary-icon">ğŸ“Š</div>
        <div class="summary-info">
          <div class="summary-label">Average/Day</div>
          <div class="summary-value" id="pcAvg">â‚¹0</div>
        </div>
      </div>
    </div>

    <!-- ========================================
         CALENDAR SECTION
    ======================================== -->
    <section class="calendar-section scroll-blur">
      <!-- Calendar Header with Navigation -->
      <div class="calendar-header">
        <button class="btn-nav" id="prevMonth" title="Previous Month">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
        </button>
        
        <h2 class="month-label" id="calMonth">Loading...</h2>
        
        <button class="btn-nav" id="nextMonth" title="Next Month">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
      </div>

      <!-- Weekday Headers -->
      <div class="calendar-weekdays">
        <div class="weekday">Sun</div>
        <div class="weekday">Mon</div>
        <div class="weekday">Tue</div>
        <div class="weekday">Wed</div>
        <div class="weekday">Thu</div>
        <div class="weekday">Fri</div>
        <div class="weekday">Sat</div>
      </div>

      <!-- Calendar Grid -->
      <div class="calendar-grid" id="calendarGrid">
        <!-- Days will be populated by JavaScript -->
      </div>

      <!-- Quick Actions (Below Calendar) -->
      <div class="calendar-actions">
        <input type="date" class="form-input date-picker" id="pcSearch" placeholder="Jump to date" title="Jump to specific date">
        <button class="btn btn-primary" id="btnAddToday">
          <span>â• Add Today</span>
        </button>
        <button class="btn btn-secondary" onclick="openPDFModal()">
          <span>ğŸ“„ Export PDF</span>
        </button>
        <button class="btn btn-secondary" onclick="exportData()">
          <span>ğŸ“Š Export CSV</span>
        </button>
        <button class="btn btn-secondary" onclick="exportJSON()">
          <span>ğŸ“¤ Export JSON</span>
        </button>
        <button class="btn btn-secondary" onclick="importJSON()">
          <span>ğŸ“¥ Import</span>
        </button>
      </div>
    </section>

    <!-- ========================================
         ANALYTICS SECTION
    ======================================== -->
    <section class="analytics-section scroll-fade-in">
      <h3 class="section-title">ğŸ“ˆ Analytics & Insights</h3>
      
      <!-- Charts Grid -->
      <div class="chart-grid">
        <!-- Monthly Trend Chart -->
        <div class="chart-card">
          <h4 class="chart-title">Daily Money Received (This Month)</h4>
          <canvas id="pcChart"></canvas>
        </div>
        
        <!-- Category Distribution -->
        <div class="chart-card">
          <h4 class="chart-title">Category-wise Distribution</h4>
          <canvas id="categoryChart"></canvas>
        </div>
        
        <!-- Weekly Comparison -->
        <div class="chart-card">
          <h4 class="chart-title">Weekly Comparison</h4>
          <canvas id="weeklyChart"></canvas>
        </div>
        
        <!-- 6-Month Trend -->
        <div class="chart-card">
          <h4 class="chart-title">6-Month Trend</h4>
          <canvas id="trendChart"></canvas>
        </div>
      </div>

      <!-- Statistics Grid -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">ğŸ“†</div>
          <div class="stat-label">Days Tracked</div>
          <div class="stat-value" id="daysTracked">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ¯</div>
          <div class="stat-label">This Week</div>
          <div class="stat-value" id="weekTotal">â‚¹0</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“ˆ</div>
          <div class="stat-label">Best Month</div>
          <div class="stat-value" id="bestMonth">â‚¹0</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ’°</div>
          <div class="stat-label">Total Entries</div>
          <div class="stat-value" id="totalDays">0</div>
        </div>
      </div>
    </section>

  </div>

  <!-- ========================================
       ENTRY MODAL
  ======================================== -->
  <div class="modal" id="entryModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Add Entry</h2>
        <button class="modal-close" onclick="closeEntryModal()">&times;</button>
      </div>
      <form id="pcForm">
        <div class="form-group">
          <label class="form-label">Date</label>
          <input type="date" class="form-input" id="pcDate" required>
        </div>
        
        <div class="form-group">
          <label class="form-label">Amount Received (â‚¹)</label>
          <input type="number" class="form-input" id="pcAmount" placeholder="0.00" step="0.01" required>
        </div>
        
        <div class="form-group">
          <label class="form-label">Category</label>
          <select class="form-select" id="pcCategory">
            <option value="ğŸ’µ Pocket Money">ğŸ’µ Pocket Money</option>
            <option value="ğŸ Gift">ğŸ Gift</option>
            <option value="ğŸ’° Allowance">ğŸ’° Allowance</option>
            <option value="ğŸ† Reward">ğŸ† Reward</option>
            <option value="ğŸ’¼ Work">ğŸ’¼ Work</option>
            <option value="ğŸ“ Education">ğŸ“ Education</option>
            <option value="ğŸ‰ Festival">ğŸ‰ Festival</option>
            <option value="ğŸ¯ Other">ğŸ¯ Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label">Notes (Optional)</label>
          <textarea class="form-textarea" id="pcNotes" placeholder="Add any notes..."></textarea>
        </div>
        
        <div class="modal-actions">
          <button type="submit" class="btn btn-primary" id="pcSave">ğŸ’¾ Save Entry</button>
          <button type="button" class="btn btn-danger" id="pcDelete" style="display: none;" onclick="deleteEntry()">ğŸ—‘ï¸ Delete</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ========================================
       PDF EXPORT OPTIONS MODAL
  ======================================== -->
  <div class="modal" id="pdfModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">ğŸ“„ Export PDF Report</h2>
        <button class="modal-close" onclick="closePDFModal()">&times;</button>
      </div>
      
      <div class="pdf-options">
        <p class="modal-subtitle">Select the time period for your report:</p>
        
        <div class="pdf-option-grid">
          <button class="pdf-option-btn" onclick="exportPDF('today')">
            <div class="option-icon">ğŸ“…</div>
            <div class="option-label">Today</div>
            <div class="option-desc">Current day report</div>
          </button>
          
          <button class="pdf-option-btn" onclick="exportPDF('week')">
            <div class="option-icon">ğŸ“†</div>
            <div class="option-label">This Week</div>
            <div class="option-desc">Last 7 days</div>
          </button>
          
          <button class="pdf-option-btn" onclick="exportPDF('month')">
            <div class="option-icon">ğŸ“Š</div>
            <div class="option-label">This Month</div>
            <div class="option-desc">Current month</div>
          </button>
          
          <button class="pdf-option-btn" onclick="exportPDF('year')">
            <div class="option-icon">ğŸ“ˆ</div>
            <div class="option-label">This Year</div>
            <div class="option-desc">Current year</div>
          </button>
          
          <button class="pdf-option-btn" onclick="exportPDF('all')">
            <div class="option-icon">ğŸ’</div>
            <div class="option-label">All Time</div>
            <div class="option-desc">Complete history</div>
          </button>
          
          <button class="pdf-option-btn" onclick="showDateRangeForm()">
            <div class="option-icon">ğŸ—“ï¸</div>
            <div class="option-label">Date Range</div>
            <div class="option-desc">Custom period</div>
          </button>
        </div>
        
        <!-- Date Range Form (Hidden by default) -->
        <div class="date-range-form" id="dateRangeForm" style="display: none;">
          <h3>Select Custom Date Range</h3>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">From Date</label>
              <input type="date" class="form-input" id="pdfFromDate" required>
            </div>
            <div class="form-group">
              <label class="form-label">To Date</label>
              <input type="date" class="form-input" id="pdfToDate" required>
            </div>
          </div>
          <div class="form-actions">
            <button class="btn btn-primary" onclick="exportPDFDateRange()">
              <span>ğŸ“„ Generate PDF</span>
            </button>
            <button class="btn btn-secondary" onclick="hideDateRangeForm()">
              <span>Cancel</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ========================================
       FLOATING ACTION BUTTON (FAB)
  ======================================== -->
  <button class="fab" onclick="quickAddToday()" title="Quick Add Today">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
    </svg>
  </button>

  <!-- ========================================
       ENHANCED FOOTER
  ======================================== -->
  <footer class="footer">
    <div class="footer-content">
      <!-- About PocketCal -->
      <div class="footer-section">
        <h3>About PocketCal</h3>
        <p>Visual calendar-based tracking for pocket money. See daily earnings at a glance with powerful analytics and beautiful charts.</p>
        <div class="footer-stats">
          <div class="stat-item">
            <strong id="footerEntries">0</strong>
            <span>Entries</span>
          </div>
          <div class="stat-item">
            <strong id="footerCategories">8</strong>
            <span>Categories</span>
          </div>
        </div>
      </div>
      
      <!-- Features -->
      <div class="footer-section">
        <h3>Features</h3>
        <ul>
          <li>âœ… Visual calendar interface</li>
          <li>ğŸ“Š 4 advanced analytics charts</li>
          <li>ğŸ“… Month/week/day tracking</li>
          <li>ğŸ—‚ï¸ 8 spending categories</li>
          <li>ğŸ“ˆ 6-month trend analysis</li>
          <li>ğŸ“¥ CSV/JSON/PDF export</li>
          <li>ğŸŒ“ Dark mode support</li>
          <li>ğŸ’¾ Auto-save to localStorage</li>
        </ul>
      </div>
      
      <!-- Quick Actions -->
      <div class="footer-section">
        <h3>Quick Actions</h3>
        <div class="footer-actions">
          <button class="btn btn-secondary btn-sm" onclick="quickAddToday()">â• Quick Add</button>
          <button class="btn btn-secondary btn-sm" onclick="openPDFModal()">ğŸ“„ PDF</button>
          <button class="btn btn-secondary btn-sm" onclick="exportData()">ğŸ“Š CSV</button>
          <button class="btn btn-secondary btn-sm" onclick="exportJSON()">ğŸ“¤ JSON</button>
          <button class="btn btn-secondary btn-sm" onclick="clearAllData()">ğŸ—‘ï¸ Clear All</button>
        </div>
      </div>
      
      <!-- Navigation -->
      <div class="footer-section">
        <h3>Navigate</h3>
        <ul>
          <li><a href="index.html">ğŸ  Dashboard</a></li>
          <li><a href="spendly.html">ğŸ’° Spendly</a></li>
          <li><a href="nexus.html">ğŸ’¼ Nexus</a></li>
          <li><a href="pocketcal.html">ğŸ“… PocketCal</a></li>
        </ul>
        
        <div class="footer-social">
          <h4>Developer</h4>
          <p><strong>Imad Khan</strong></p>
          <p class="footer-handle">
            <a href="https://www.instagram.com/_imxd12" target="_blank" rel="noopener noreferrer">@imxd12</a>
          </p>
          <div class="social-links">
            <a href="mailto:imadak999@gmail.com" title="Email">ğŸ“§</a>
            <a href="https://instagram.com/_imxd12" target="_blank" title="Instagram">ğŸ“·</a>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Footer Bottom -->
    <div class="footer-bottom">
      <p>&copy; 2025 MoneyFlow by <strong>Imad Khan 
        <a href="https://www.instagram.com/_imxd12" target="_blank" rel="noopener noreferrer">@imxd12</a>
      </strong>. All rights reserved.</p>
      <p class="footer-version">PocketCal v1.0.0 | Last Updated: October 2025</p>
    </div>
  </footer>

    <!-- Bottom Navigation -->
  <nav class="bottom-nav" data-active="0">
    <div class="nav-liquid"></div>
    <a href="index.html" class="nav-item active" id="nav-home">
      <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
      <span>Home</span>
    </a>
    <a href="spendly.html" class="nav-item" id="nav-spend">
      <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/></svg>
      <span>Spendly</span>
    </a>
    <a href="pocketcal.html" class="nav-item" id="nav-pocket">
      <svg viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"/></svg>
      <span>PocketCal</span>
    </a>
  </nav>
  
  <!-- Scripts -->
  <script src="global.js"></script>
  <script src="pocketcal.js"></script>
</body>
</html>

