<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spendly - Income & Expense Tracker</title>
  <link rel="stylesheet" href="global.css">
  <link rel="stylesheet" href="spendly.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <div class="header-left">
      <a href="index.html" style="display: flex; align-items: center; gap: 15px; text-decoration: none;">
        <svg class="brand-logo" viewBox="0 0 100 100">
          <defs>
            <linearGradient id="brandGrad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#10b981"/>
              <stop offset="100%" style="stop-color:#3b82f6"/>
            </linearGradient>
          </defs>
          <circle cx="50" cy="50" r="45" fill="url(#brandGrad)"/>
          <text x="50" y="65" font-size="40" font-weight="800" fill="white" text-anchor="middle">â‚¹</text>
        </svg>
        <h1 class="brand-name">MoneyFlow</h1>
      </a>
    </div>
    
    <div class="header-center">
      <div class="time-display" id="timeNow">Loading...</div>
    </div>
    
    <div class="header-right">
      <div class="theme-toggle">
        <div class="theme-toggle-slider">â˜€ï¸</div>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <div class="container">
    
    <!-- Page Title -->
    <div class="page-header scroll-fade-in">
      <h1 class="page-title">ğŸ’° Spendly</h1>
      <p class="page-subtitle">Track every rupee you spend or earn</p>
    </div>

    <!-- Summary Cards -->
    <div class="summary-grid scroll-fade-in">
      <div class="summary-card income-card">
        <div class="summary-icon">ğŸ“ˆ</div>
        <div class="summary-info">
          <div class="summary-label">Total Income</div>
          <div class="summary-value" id="totalIncome">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card expense-card">
        <div class="summary-icon">ğŸ“‰</div>
        <div class="summary-info">
          <div class="summary-label">Total Expense</div>
          <div class="summary-value" id="totalExpense">â‚¹0</div>
        </div>
      </div>
      
      <div class="summary-card balance-card">
        <div class="summary-icon">ğŸ’</div>
        <div class="summary-info">
          <div class="summary-label">Balance</div>
          <div class="summary-value" id="balance">â‚¹0</div>
        </div>
      </div>
    </div>

    <!-- Filters & Actions -->
    <div class="filter-section scroll-blur">
      <div class="filter-group">
        <input type="date" class="form-input" id="filterDate" placeholder="Filter by date">
        <input type="text" class="form-input" id="searchInput" placeholder="ğŸ” Search by notes or category...">
      </div>
      <div class="action-buttons">
        <button class="btn btn-secondary" onclick="toggleShowAll()">
          <span id="toggleText">Show All</span>
        </button>
        <button class="btn btn-secondary" onclick="exportToCSV()">
          <span>ğŸ“Š Export CSV</span>
        </button>
        <button class="btn btn-secondary" onclick="importFromJSON()">
          <span>ğŸ“¥ Import JSON</span>
        </button>
      </div>
    </div>

    <!-- Add Income/Expense Section -->
    <div class="add-section scroll-fade-in">
      <div class="type-toggle">
        <button class="type-btn active" data-type="income" onclick="switchType('income')">
          ğŸ’µ Income
        </button>
        <button class="type-btn" data-type="expense" onclick="switchType('expense')">
          ğŸ’¸ Expense
        </button>
      </div>

      <!-- Income Form -->
      <form id="incomeForm" class="transaction-form active">
        <h3 class="form-title">Add Income</h3>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date</label>
            <input type="date" class="form-input" id="incomeDate" required>
          </div>
          <div class="form-group">
            <label class="form-label">Amount (â‚¹)</label>
            <input type="number" class="form-input" id="incomeAmount" placeholder="0.00" step="0.01" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Category</label>
            <select class="form-select" id="incomeCategory" required>
              <option value="ğŸ’¼ Salary">ğŸ’¼ Salary</option>
              <option value="ğŸ’° Business">ğŸ’° Business</option>
              <option value="ğŸ Gift">ğŸ Gift</option>
              <option value="ğŸ’µ Pocket Money">ğŸ’µ Pocket Money</option>
              <option value="ğŸ“ˆ Investment Returns">ğŸ“ˆ Investment Returns</option>
              <option value="ğŸ† Bonus">ğŸ† Bonus</option>
              <option value="ğŸ› ï¸ Freelance">ğŸ› ï¸ Freelance</option>
              <option value="ğŸ¯ Other">ğŸ¯ Other</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Notes (Optional)</label>
          <textarea class="form-textarea" id="incomeNotes" placeholder="Add any notes..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary btn-block">
          <span>âœ… Add Income</span>
        </button>
      </form>

      <!-- Expense Form -->
      <form id="expenseForm" class="transaction-form">
        <h3 class="form-title">Add Expense</h3>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date</label>
            <input type="date" class="form-input" id="expenseDate" required>
          </div>
          <div class="form-group">
            <label class="form-label">Amount (â‚¹)</label>
            <input type="number" class="form-input" id="expenseAmount" placeholder="0.00" step="0.01" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Category</label>
            <select class="form-select" id="expenseCategory" required></select>
          </div>
          <div class="form-group">
            <label class="form-label">Subcategory</label>
            <select class="form-select" id="expenseSub" required></select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Notes (Optional)</label>
          <textarea class="form-textarea" id="expenseNotes" placeholder="Add any notes..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary btn-block">
          <span>âœ… Add Expense</span>
        </button>
      </form>
    </div>

    <!-- Transaction List -->
    <div class="list-section scroll-blur">
      <h3 class="section-title">Recent Transactions</h3>
      <ul id="listSpend" class="transaction-list"></ul>
      <div class="empty-state" id="emptyState" style="display: none;">
        <svg width="100" height="100" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="40" fill="var(--glass)" stroke="var(--glass-border)" stroke-width="2"/>
          <text x="50" y="65" font-size="40" text-anchor="middle">ğŸ’¸</text>
        </svg>
        <p>No transactions yet. Start tracking!</p>
      </div>
    </div>

  </div>

  <!-- Edit Modal -->
  <div class="modal" id="editModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Edit Transaction</h2>
        <button class="modal-close" onclick="closeModal('#editModal')">&times;</button>
      </div>
      <form id="editForm">
        <input type="hidden" id="editId">
        <div class="form-group">
          <label class="form-label">Type</label>
          <select class="form-select" id="editType" disabled>
            <option value="income">Income</option>
            <option value="expense">Expense</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Date</label>
            <input type="date" class="form-input" id="editDate" required>
          </div>
          <div class="form-group">
            <label class="form-label">Amount (â‚¹)</label>
            <input type="number" class="form-input" id="editAmount" step="0.01" required>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Category</label>
          <input type="text" class="form-input" id="editCategory" required>
        </div>
        <div class="form-group">
          <label class="form-label">Subcategory</label>
          <input type="text" class="form-input" id="editSub">
        </div>
        <div class="form-group">
          <label class="form-label">Notes</label>
          <textarea class="form-textarea" id="editNotes"></textarea>
        </div>
        <div class="modal-actions">
          <button type="submit" class="btn btn-primary">ğŸ’¾ Save Changes</button>
          <button type="button" class="btn btn-danger" onclick="deleteTransaction()">ğŸ—‘ï¸ Delete</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Floating Action Button (FAB) -->
  <button class="fab" onclick="quickAddExpense()" title="Quick Add Expense">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
    </svg>
  </button>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>About Spendly</h3>
        <p>Track every rupee with detailed categorization. Monitor income, expenses, and balance in real-time.</p>
      </div>
      
      <div class="footer-section">
        <h3>Features</h3>
        <ul>
          <li>11 main categories with subcategories</li>
          <li>Income & Expense tracking</li>
          <li>CSV export & JSON import</li>
          <li>Advanced filtering</li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="index.html">Dashboard</a></li>
          <li><a href="nexus.html">Nexus</a></li>
          <li><a href="pocketcal.html">PocketCal</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 MoneyFlow by <strong>@imxd-2025</strong>. All rights reserved.</p>
    </div>
  </footer>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" data-active="1">
    <div class="nav-liquid"></div>
    <a href="index.html" class="nav-item" id="nav-home">
      <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
      <span>Home</span>
    </a>
    <a href="spendly.html" class="nav-item active" id="nav-spend">
      <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/></svg>
      <span>Spendly</span>
    </a>
    <a href="nexus.html" class="nav-item" id="nav-nexus">
      <svg viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/></svg>
      <span>Nexus</span>
    </a>
    <a href="pocketcal.html" class="nav-item" id="nav-pocket">
      <svg viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"/></svg>
      <span>PocketCal</span>
    </a>
  </nav>

  <script src="global.js"></script>
  <script src="spendly.js"></script>
</body>
</html>
